(this["webpackJsonpmuseq-frontend"]=this["webpackJsonpmuseq-frontend"]||[]).push([[0],{45:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),c=s(37),n=s.n(c),l=(s(45),s(73)),i=s(21),o=s(38),d=s(10),j=s(5),x=s(0),u=function(e){var t=e.url;return Object(x.jsxs)("aside",{className:"text-center flex flex-col my-10 space-y-6",children:[Object(x.jsx)("h1",{className:"font-heading font-extrabold italic text-2xl text-hotmagenta",children:"Museq"}),Object(x.jsx)(d.c,{activeClassName:"text-hotmagenta font-bold",exact:!0,to:"".concat(t),children:"Home"}),Object(x.jsx)(d.c,{activeClassName:"text-hotmagenta font-bold",to:"".concat(t,"/favorites"),children:"Favoritos"}),Object(x.jsx)(d.c,{activeClassName:"text-hotmagenta font-bold",to:"".concat(t,"/playlist"),children:"Playlists"}),Object(x.jsx)(d.c,{activeClassName:"text-hotmagenta font-bold",to:"".concat(t,"/search"),children:"B\xfasqueda"})]})},p=s(16),m=s.n(p),b=s(20),h=s(40),f=s(74),O=s(19),v=s.n(O),g=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/song");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.song,s=e.i,a=e.onClick;return Object(x.jsxs)("div",{className:"flex text-center place-items-center bg-violetcard p-3 mt-4 rounded-lg",id:t._id,children:[Object(x.jsx)("div",{className:"cursor-pointer",onClick:a,children:Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 pointer-events-none ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),Object(x.jsx)("div",{className:"place-items-start truncate",children:s+1}),Object(x.jsx)("div",{className:"flex-1 truncate",children:t.name}),Object(x.jsx)("div",{className:"flex-1 truncate",children:t.album_id.name}),Object(x.jsx)("div",{className:"flex-1 truncate",children:t.artists}),Object(x.jsx)("div",{className:"flex-1 truncate",children:t.duration}),Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-hotmagenta",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})]})},w=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),s=t[0],r=t[1],c=Object(a.useRef)(null),n=Object(j.f)(),l=Object(f.a)("songs",g,{onError:function(e){401===e.request.status&&n.push("/")}}),i=l.data;if(l.isLoading)return Object(x.jsx)("div",{children:"Cargando..."});var o=function(){var e=Object(b.a)(m.a.mark((function e(t){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target.parentNode.id,r(s),e.next=4,c.current.play();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"mr-4",children:[i.map((function(e,t){return Object(x.jsx)(N,{song:e,onClick:o,i:t},e._id)})),Object(x.jsx)("audio",{ref:c,src:"/api/song/stream/".concat(s)})]})},y=function(){var e=Object(j.g)(),t=e.path,s=e.url;return Object(x.jsxs)("div",{className:"grid grid-cols-sidebar",children:[Object(x.jsx)(u,{url:s}),Object(x.jsx)(j.a,{exact:!0,path:t,component:w}),Object(x.jsx)(j.a,{path:"".concat(t,"/favorites"),children:"Vista favoritos"}),Object(x.jsx)(j.a,{path:"".concat(t,"/playlist"),children:"Vista playlist"}),Object(x.jsx)(j.a,{path:"".concat(t,"/search"),children:"Vista busqueda"})]})},k=s(75),q=function(e){return v.a.post("/api/user/signup",e)},C=function(e){return v.a.post("/api/user/login",e)},L=function(){var e=Object(j.f)(),t=Object(k.a)(C,{onSuccess:function(t){console.log(t.data),e.push("/home")}});return Object(x.jsx)("div",{className:"grid place-items-center",children:Object(x.jsxs)("div",{className:"w-96 space-y-5 m-10",children:[Object(x.jsx)("h1",{className:"font-heading font-extrabold italic text-center text-2xl text-hotmagenta",children:"Museq"}),Object(x.jsxs)("form",{className:"bg-violetcard p-10 rounded-2xl flex flex-col space-y-4",onSubmit:function(e){e.preventDefault();var s=new FormData(e.target),a=Object.fromEntries(s.entries());a.username=a.username.toLowerCase(),t.mutate(a)},children:[Object(x.jsxs)("fieldset",{className:"flex flex-col space-y-1",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Nombre de usuario"}),Object(x.jsx)("input",{className:"rounded-xl p-2 bg-violetinput",type:"text",name:"username",id:"username",placeholder:"e.j: gistypical",required:!0})]}),Object(x.jsxs)("fieldset",{className:"flex flex-col space-y-1",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(x.jsx)("input",{className:"rounded-xl p-2 bg-violetinput",type:"password",name:"password",id:"password",pattern:"[\\w]{4,}",required:!0})]}),Object(x.jsx)("button",{type:"submit",children:"Iniciar sesi\xf3n"}),t.isLoading&&Object(x.jsx)("p",{className:"text-sm text-center",children:"Verificando datos, porfavor espere..."}),t.isError&&401===t.error.response.status&&Object(x.jsx)("p",{className:"text-sm text-center text-selectiveyellow",children:"Usuario y/o contrase\xf1a son incorrectos"}),t.isError&&401!==t.error.response.status&&Object(x.jsx)("p",{className:"text-sm text-center text-red-500",children:"Ha ocurrido un error al completar la solicitud"})]})]})})},F=function(){return Object(x.jsxs)("nav",{className:"flex w-full place-items-center p-3",children:[Object(x.jsx)("h1",{className:"flex-1 font-heading font-extrabold italic ml-32 text-2xl text-hotmagenta",children:"Museq"}),Object(x.jsxs)("div",{className:"flex-1 flex flex-row-reverse mr-32 space-x-12 space-x-reverse",children:[Object(x.jsx)(d.b,{to:"/signup",children:Object(x.jsx)("p",{children:"Registrarse"})}),Object(x.jsx)(d.b,{to:"/login",children:Object(x.jsx)("p",{children:"Iniciar sesi\xf3n"})})]})]})},E=function(){var e=Object(j.f)(),t=Object(k.a)(q,{onSuccess:function(){e.push("/login")}});return Object(x.jsx)("div",{className:"grid place-items-center",children:Object(x.jsxs)("div",{className:"w-96 space-y-5 m-10",children:[Object(x.jsx)("h1",{className:"font-heading font-extrabold italic text-center text-2xl text-hotmagenta",children:"Museq"}),Object(x.jsxs)("form",{className:"bg-violetcard p-10 rounded-2xl flex flex-col space-y-4",onSubmit:function(e){e.preventDefault();var s=new FormData(e.target),a=Object.fromEntries(s.entries());a.username=a.username.toLowerCase(),t.mutate(a)},children:[Object(x.jsxs)("fieldset",{className:"flex flex-col space-y-1",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Nombre"}),Object(x.jsx)("input",{className:"rounded-xl p-2 bg-violetinput",type:"text",name:"name",id:"name",placeholder:"p.e. Gerardo",required:!0})]}),Object(x.jsxs)("fieldset",{className:"flex flex-col space-y-1",children:[Object(x.jsx)("label",{htmlFor:"last_name",children:"Apellido"}),Object(x.jsx)("input",{className:"rounded-xl p-2 bg-violetinput",type:"text",name:"last_name",id:"last_name",placeholder:"p.e. Torres"})]}),Object(x.jsxs)("fieldset",{className:"flex flex-col space-y-1",children:[Object(x.jsx)("label",{htmlFor:"username",children:"Nombre de usuario"}),Object(x.jsx)("label",{className:"text-xs opacity-60",htmlFor:"username",children:"Sin espacios"}),Object(x.jsx)("input",{className:"rounded-xl p-2 bg-violetinput",type:"text",name:"username",id:"username",placeholder:"p.e. gistypical",pattern:"[\\w]+",required:!0})]}),Object(x.jsxs)("fieldset",{className:"flex flex-col space-y-1",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(x.jsx)("label",{className:"text-xs opacity-60",htmlFor:"username",children:"Debe de tener 4 caracteres o m\xe1s"}),Object(x.jsx)("input",{className:"rounded-xl p-2 bg-violetinput",type:"password",name:"password",id:"password",pattern:"[\\w]{4,}",required:!0})]}),Object(x.jsx)("button",{type:"submit",children:"Registrarse"}),t.isLoading&&Object(x.jsx)("p",{className:"text-sm text-center",children:"Registrando usuario, espere..."}),t.isError&&409===t.error.response.status&&Object(x.jsx)("p",{className:"text-sm text-center text-selectiveyellow",children:"El nombre de usuario ingresado ya existe"}),t.isError&&409!==t.error.response.status&&Object(x.jsx)("p",{className:"text-sm text-center text-red-500",children:"Ha ocurrido un error al completar la solicitud"})]})]})})},M=function(){return Object(x.jsx)("div",{className:"font-semibold h-full",children:Object(x.jsx)(d.a,{children:Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/",exact:!0,component:F}),Object(x.jsx)(j.a,{path:"/login",component:L}),Object(x.jsx)(j.a,{path:"/signup",component:E}),Object(x.jsx)(j.a,{path:"/home",component:y})]})})})},S=new l.a;var D=function(){return Object(x.jsx)("div",{className:"h-full bg-russianviolet text-white text-opacity-90",children:Object(x.jsxs)(i.a,{client:S,children:[Object(x.jsx)(M,{}),Object(x.jsx)(o.ReactQueryDevtools,{initialIsOpen:!1})]})})};n.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.6f492c1f.chunk.js.map